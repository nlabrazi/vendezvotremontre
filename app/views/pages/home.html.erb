<div class="jumbotron jumbotron-fluid">
 <video autoplay="" muted="" loop="">
  <source src="https://storage.coverr.co/videos/Th016ucHQ8ijQH4NOR3dto02K6g00iEgWdk?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcHBJZCI6Ijg3NjdFMzIzRjlGQzEzN0E4QTAyIiwiaWF0IjoxNjA5NzEyMDMwfQ.zBx2VC1i2kSFAXAo29h5CnSkML4IY1PGwqoAqL-0668" type="video/mp4">
  </video>
  <div class="container">
    <h1 class="display-4">Fluid jumbotron</h1>
    <p class="lead">This is a modified jumbotron that occupies the entire horizontal space of its parent.</p>
    <p class="lead">
      <a class="btn btn-primary btn-lg" href="#" role="button">Learn more</a>
    </p>
  </div>
</div>

<div class="container">
  <div class="home-top">
    <div class="col-md-6 col-sm-7 mb-md selector">
      <h4>Evaluation de votre montre en quelques secondes !</h4>

      <%= simple_form_for [ @watch ] do |f| %>
      <div class="field">
        <%= f.label :brand_id, "Selectionnez la Marque" %><br />
        <%= f.collection_select :brand_id, Brand.order(:name), :id, :name, {prompt: "Marque"}, {class: "form-control form-control-lg"} %>
      </div>
      <div class="field">
        <%= f.label :model_id, "Choisissez le Modèle" %><br />
        <%= f.grouped_collection_select :model_id, Brand.order(:name), :models, :name, :id, :name, {prompt: "Modèle"}, {class: "form-control form-control-lg"} %>
      </div>
      <div class="actions"><%= f.submit class:'btn btn-primary' %></div>
      <% end %>

    </div>
  </div>
</div>

<script>
  (function() {
    var models;
    $('#watch_model_id').parent().hide();
    models = $('#watch_model_id').html();
    return $('#watch_brand_id').change(function() {
      var brand, escaped_brand, options;
      brand = $('#watch_brand_id :selected').text();
      escaped_brand = brand.replace(/([ #;&,.+*~\':"!^$[\]()=>|\/@])/g, '\\$1');
      options = $(models).filter("optgroup[label='" + escaped_brand + "']").html();
      if (options) {
        $('#watch_model_id').html(options);
        return $('#watch_model_id').parent().show();
      } else {
        $('#watch_model_id').empty();
        return $('#watch_model_id').parent().hide();
      }
    });
  });
</script>
